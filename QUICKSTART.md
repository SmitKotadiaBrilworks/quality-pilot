# QualityPilot Quick Start Guide

Get up and running with QualityPilot in 5 minutes!

## Prerequisites

- Node.js 18+
- Docker & Docker Compose (for Redis) - OR install Redis directly
- Google Gemini API Key ([Get one here](https://makersuite.google.com/app/apikey))

**Note**: If Docker Compose is not installed:

```bash
# Ubuntu/Debian
sudo apt install docker-compose

# Or use system Redis instead
sudo apt install redis-server
```

## Installation

### Option 1: Automated Setup (Recommended)

```bash
./scripts/setup.sh
```

### Option 2: Manual Setup

```bash
# 1. Install dependencies
npm install
npm install --workspaces

# 2. Build shared package
cd packages/shared && npm run build && cd ../..

# 3. Install Playwright browsers
cd packages/backend && npx playwright install chromium && cd ../..

# 4. Set up environment
cp .env.example .env
# Edit .env and add your GEMINI_API_KEY
```

## Configuration

Edit `.env` file:

```env
GEMINI_API_KEY=your_gemini_api_key_here
ENCRYPTION_KEY=your_32_char_key_here  # Auto-generated by setup script
```

## Start Services

### 1. Start Redis

**Option A: Using Docker Compose** (if installed)

```bash
# Try newer syntax first
docker compose up -d redis

# Or older syntax
docker-compose up -d redis

# Or use helper script
./scripts/start-redis.sh
```

**Option B: Using System Redis** (if installed directly)

```bash
sudo systemctl start redis
# Or
sudo service redis start
```

### 2. Start Application

```bash
# From root directory
npm run dev
```

This starts both frontend (port 3000) and backend (port 3001).

Or start separately:

```bash
# Terminal 1 - Backend
cd packages/backend && npm run dev

# Terminal 2 - Frontend
cd packages/frontend && npm run dev
```

## Usage

1. **Open Dashboard**: http://localhost:3000

2. **Enter Test Details**:

   - **URL**: The application you want to test (e.g., `https://example.com`)
   - **Test Description**: Natural language description
     - Example: `"Login with email and password, then navigate to settings and update profile name to 'John Doe'"`

3. **Add Credentials** (Optional):

   - Key: `email`
   - Value: `user@example.com`
   - Click "Add" to add more credentials

4. **Run Test**: Click "Run Test" button

5. **Watch Execution**:
   - Left panel: Test input and logs
   - Right panel: Live execution with steps and screenshots

## Example Test Prompts

### Login Test

```
Login with email and password, then verify I'm on the dashboard
```

### Form Submission

```
Fill out the contact form with name 'John Doe', email 'john@example.com', and message 'Hello', then submit it
```

### Navigation & Assertion

```
Navigate to the products page, click on the first product, and verify the product details page loads
```

### CRUD Operations

```
Login, go to my profile, update my name to 'Jane Smith', save changes, and verify the update was successful
```

## Architecture Overview

```
Frontend (Next.js) â†’ Backend (Node.js) â†’ AI (Gemini) â†’ Playwright â†’ Browser
                    â†“
                 WebSocket (Real-time updates)
                    â†“
                 Redis (Queue)
```

## Key Features

âœ… **Natural Language Testing** - Describe tests in plain English  
âœ… **AI-Powered** - Gemini converts prompts to test steps  
âœ… **Live Execution** - Watch tests run in real-time  
âœ… **Secure Credentials** - Encrypted, never exposed to AI  
âœ… **Multi-Browser** - Chromium, Firefox, WebKit support  
âœ… **Screenshots** - Automatic screenshots after each step

## Troubleshooting

### "Cannot connect to WebSocket"

- Ensure backend is running on port 3001
- Check `NEXT_PUBLIC_WS_URL` in `.env`

### "Redis connection failed"

- **If using Docker**:
  - Start Redis: `docker compose up -d redis` or `docker-compose up -d redis`
  - Check Redis: `docker ps` or `docker compose ps`
- **If using system Redis**:
  - Start: `sudo systemctl start redis`
  - Check: `sudo systemctl status redis`
- **Install Docker Compose**: `sudo apt install docker-compose`

### "Permission denied while trying to connect to Docker daemon"

- **Fix Docker permissions**:
  ```bash
  sudo usermod -aG docker $USER
  newgrp docker  # or log out and log back in
  ```
- **Or use the helper script**:
  ```bash
  sudo ./scripts/fix-docker-permissions.sh
  ```
- **Alternative**: Use system Redis instead of Docker

### "Gemini API error"

- Verify API key is correct
- Check API quota/limits
- Ensure internet connection

### "Playwright browser not found"

```bash
cd packages/backend
npx playwright install
```

## Next Steps

- Read [ARCHITECTURE.md](./ARCHITECTURE.md) for detailed system design
- Read [SETUP.md](./SETUP.md) for advanced configuration
- Check [README.md](./README.md) for project overview

## Support

For issues or questions, check the documentation or open an issue.

Happy Testing! ðŸš€
